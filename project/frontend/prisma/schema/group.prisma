enum MEMBER_ROLE {
    OWNER
    EDITOR
    VIEWER
}

model GroupFamily {
    id           String        @id @default(uuid()) @db.Uuid()
    name         String
    description  String?
    family       Family?
    createdAt    DateTime      @default(now())
    updatedAt    DateTime      @updatedAt
    groupMembers GroupMember[]
    invites      Invite[]
    albums       Album[]
    events       Event[]

    @@map("group_family")
}

model GroupMember {
    id        String      @id @default(uuid()) @db.Uuid()
    role      MEMBER_ROLE @default(OWNER)
    groupId   String      @db.Uuid()
    group     GroupFamily @relation(fields: [groupId], references: [id], onDelete: Cascade)
    memberId  String      @db.Uuid()
    member    User        @relation(fields: [memberId], references: [id], onDelete: Cascade)
    isLeader  Boolean     @default(false)
    createdAt DateTime    @default(now())
    updatedAt DateTime    @updatedAt

    @@unique([memberId, groupId])
    @@index([memberId, groupId])
    @@map("group_member")
}
